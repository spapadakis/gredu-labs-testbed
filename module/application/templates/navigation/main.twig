{% macro li(page) %}

    <li role="presentation" class="{% if page.active %}active {% endif %}{{ page.class|default('') }}">
        <a href="{{ page.href }}" {% if page.id %}id="{{ page.id }}"{% endif %} title="{{ page.label|striptags|e }}"
           {% if page.target %}target="{{ page.target }}"{% endif %}>
            {% if page.icon %}
                <i class="fa fa-{{ page.icon }}"></i>
            {% endif %}
            <span class="{{ page.labelClass|default('') }}">{{ page.label }}</span>
        </a>
    </li>
{% endmacro %}

{% import _self as macros %}

<nav class="navbar navbar-default navbar-fixed-top" >
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <i class="fa fa-navicon"></i>
            </button>
            <a class="navbar-brand" href="{{ path_for('index') }}">EduLabs</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                {% for page in nav('main') %}
                    {{ macros.li(page)}}
                {% endfor %}
                {% if not nav('admin') is empty %}
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span class="fa fa-user-secret"></span> Διαχειριστής <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            {% for page in nav('admin') %}
                                {{ macros.li(page)}}
                            {% endfor %}
                        </ul>
                    </li>
                {% endif %}
            </ul>
            <ul class="nav navbar-nav navbar-right">
                {% for page in nav('authentication') %}
                    {{ macros.li(page)}}
                {% endfor %}
            </ul>
        </div>
    </div>
</nav>